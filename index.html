<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <title> Page test</title>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="form.css">
    <script src="./node_modules/web3/dist/web3.min.js"></script>

  </head>
  <body class="no-transition">
    <header>
      <div class="container">
        <a href="#"><img src="sananes.jpg" alt="Aled" id="img-logo"></a>
        <nav>
          <ul>
            <li> <a href="#"> Premium</a></li>
            <li> <a href="#"> Aide</a></li>
            <li> <a href="#"> Telecharger</a></li>
            <li> <a> | </a></li>
            <li> <a href="#"> S'inscrire</a></li>
            <li> <a href="#"> Se connecter</a></li>
          </ul>
        </nav>
      </div>
    </header>

    <main>
      <section id="section1">
        <div class="container">
          <h1> Juste pour que l'on arrive a lire le nom</h1>
          <h2> jsp</h2>
          <small>
            <script type="text/javascript">
              web3 = new Web3(new Web3.providers.HttpProvider("http://localhost:7545"));
              web3.eth.defaultAccount = web3.eth.accounts[0];
              const contract_address = '0x892120cEF3c80BA09D97CfDB9380941464776cb2';
              const abi =  [
                {
                  "constant": true,
                  "inputs": [
                    {
                      "internalType": "address",
                      "name": "",
                      "type": "address"
                    }
                  ],
                  "name": "balanceOf",
                  "outputs": [
                    {
                      "internalType": "uint256",
                      "name": "",
                      "type": "uint256"
                    }
                  ],
                  "payable": false,
                  "stateMutability": "view",
                  "type": "function"
                },
                {
                  "constant": true,
                  "inputs": [
                    {
                      "internalType": "uint256",
                      "name": "",
                      "type": "uint256"
                    }
                  ],
                  "name": "clients",
                  "outputs": [
                    {
                      "internalType": "address",
                      "name": "",
                      "type": "address"
                    }
                  ],
                  "payable": false,
                  "stateMutability": "view",
                  "type": "function"
                },
                {
                  "constant": true,
                  "inputs": [],
                  "name": "name",
                  "outputs": [
                    {
                      "internalType": "string",
                      "name": "",
                      "type": "string"
                    }
                  ],
                  "payable": false,
                  "stateMutability": "view",
                  "type": "function"
                },
                {
                  "constant": false,
                  "inputs": [],
                  "name": "deposit",
                  "outputs": [],
                  "payable": true,
                  "stateMutability": "payable",
                  "type": "function"
                },
                {
                  "constant": false,
                  "inputs": [],
                  "name": "withdraw",
                  "outputs": [],
                  "payable": false,
                  "stateMutability": "nonpayable",
                  "type": "function"
                },
                {
                  "constant": true,
                  "inputs": [],
                  "name": "balance",
                  "outputs": [
                    {
                      "internalType": "address[]",
                      "name": "",
                      "type": "address[]"
                    }
                  ],
                  "payable": false,
                  "stateMutability": "view",
                  "type": "function"
                },
                {
                  "constant": true,
                  "inputs": [],
                  "name": "bankBalance",
                  "outputs": [
                    {
                      "internalType": "uint256",
                      "name": "",
                      "type": "uint256"
                    }
                  ],
                  "payable": false,
                  "stateMutability": "view",
                  "type": "function"
                }
              ];
              var ContractInstance = web3.eth.contract(abi);
              var Contract = ContractInstance.at(contract_address);
              Contract.enter({from: web3.eth.accounts[1], value: 10000000000000000000});
              console.log(Contract.getPlayers());

              document.write(Contract.name());
              document.write("<br>");
              document.write("<br>");
              document.write(Contract.getPlayers());
              document.write("<br>");
              document.write("<br>");
              document.write("<button type='button' name='button'>");
              document.write(Contract.getPlayers());
              console.log(Contract.pickWinner({gas: 3000000}));
              document.write("</button>");
            </script>
          </small>
          <div class="imgs">
          </div>

        </div>



      </section>
    </main>

    <script>
      document.getElementsByTagName('body')[0].classList.remove('no-transition');
    </script>

  </body>
</html>
